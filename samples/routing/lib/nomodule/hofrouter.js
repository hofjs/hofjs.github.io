(()=>{(function(){let _=Function.prototype.bind;_.toString().includes("[native code]")&&(Function.prototype.bind=function(){let e=_.apply(this,arguments);return e.toString=()=>this.toString(),e})})();(function(){String.prototype.replaceAll||(String.prototype.replaceAll=function(_,e){let t="",i,r;for(;~(r=this.indexOf(_,i));)t+=this.substring(i,r)+e,i=r+_.length;return t+this.substring(i)})})();var O=class{constructor(e,t,i){this.execute=e,this.bindVariableNames=t,this.template=i}},R=class{constructor(e,t,i,r,s,n,o,l,a,d,f,p){this.listParentElement=e,this.listParentElementIndex=t,this.listParentElementRenderOnEmptyList=i,this.listProperty=r,this.listDerived=s,this.listFunction=n,this.listCurrentData=o,this.listItemVariable=l,this.listIndexVariable=a,this.listItemUpdatedVariable=d,this.listElementTemplateFunction=f,this.listElementTemplateSize=p}},b=class extends HTMLElement{constructor(e="div"){super();this._tagName=null,this._root=null,this._shadow=null,this._properties={},this._derivedProperties={},this._allBindVariables=null,this._allBindExpressions={},this._observersForBindVariable=new Map,this._observerExpressions=new Map,this._renderIteration=-1,this._lists=new Map,this._parentProperties=null,this._propertyReferences=new Map,this.REFERENCED_BIND_VARIABLE_NAMES_REGEX=new RegExp("([a-zA-Z_$][\\w]+\\.[\\w\\.]+[\\w])([\\.][\\w]+\\()?","g"),this.styles=null,this._tagName=e,this._shadow=this.attachShadow({mode:"open"}),this._parentProperties=Object.getOwnPropertyNames(this),this._makeDerivedPropertyFunctions()}connectedCallback(){if(this._root=document.createElement(this._tagName),this._shadow.appendChild(this._root),this.styles!=null){let e=document.createElement("style");e.innerHTML=this.styles,this._shadow.appendChild(e)}this._makeComponentPropertiesObservable(),this._isRootHofHtmlElement()&&this.render()}render(){for(let e of this.templates)if(Array.isArray(e)){let t=this._findPropertyForValue(e[0]),i=this._restoreDerivedPropertyFunction(t),r=e[2],s=e[3],n=this._derivedProperties[t]?i:new Function(`return this.${t};`).bind(this);this._renderList(n,e[1],r,s)}else this._renderContent(e);this._propertyReferences=null}_isRootHofHtmlElement(){for(let e=this;e;e=e.parentNode)if(e.toString()==="[object ShadowRoot]"&&e.host instanceof b)return!1;return!0}_makeDerivedPropertyFunctions(){let e=Object.getPrototypeOf(this);for(let t of Object.getOwnPropertyNames(e).filter(i=>i!="constructor"))Object.getOwnPropertyDescriptor(e,t).get&&(Object.defineProperty(this,t,{get:function(){return Object.getOwnPropertyDescriptor(e,t).get},configurable:!0}),this._derivedProperties[t]=Object.getOwnPropertyDescriptor(e,t).get)}_restoreDerivedPropertyFunction(e){let t=Object.getPrototypeOf(this),i=Object.getOwnPropertyDescriptor(t,e);if(this._derivedProperties[e]&&i.get)return Object.defineProperty(this,e,{get:this._derivedProperties[e]}),Object.getOwnPropertyDescriptor(t,e).get.bind(this)}_findPropertyForValue(e){if(e==null)return null;for(let t of Object.getOwnPropertyNames(this))if(e==this[t]||e==this._propertyReferences.get(t))return t;for(let t of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))if(e==this[t]||e==this._propertyReferences.get(t))return t;throw Error("Property could not be resolved! If you used a private property with leading #, please replace it with _, because private properties are currently not supported!")}_makeComponentPropertiesObservable(){this._forEachNonDerivedProperty((e,t)=>{let i=t[e];this._propertyReferences.set(e,i),Object.defineProperty(this,e,{get:function(){return this._getProperty(e,i)},set:function(r){let s=this._getProperty(e,i);this._callBindVariableBeforeChangedHook(this,e,r,s)&&(this._setProperty(e,r),this._callBindVariableAfterChangedHook(this,e,r,s))},enumerable:!0,configurable:!0})})}_setProperty(e,t){let i=this._properties[e];(typeof i=="object"||typeof t=="object"||i!=t||t.lastActionMethod)&&(t.lastActionPropertyPath||(this._properties[e]=t,this._allBindVariables&&(this._allBindVariables[e]=t)),h.logPropertyUpdate(this,e,t)),this._allBindVariables&&this._makeBindVariableObservable(e),this._updatePropertyObservers([e,t]),this._renderUpdate(e,t,i)}_getProperty(e,t=void 0){var i,r;return this._allBindVariables?this._allBindVariables[e]:(r=(i=this._properties[e])!==null&&i!==void 0?i:this.getAttribute(e))!==null&&r!==void 0?r:t}_renderContent(e){this._renderFull(this._root,e,null),h.logInitialRendering(this,this._renderIteration,this._properties)}_renderList(e,t,i,r){let s=t.toString(),[n,o,l]=s.substring(0,s.indexOf("=>")).replace("(","").replace(")","").split(",").map(g=>g.trim()),a=e.toString(),d=e.call(this),f=this._root.childNodes.length,p=[];for(let[,g]of a.matchAll(/this\.(\w+)/gm))p.push(g);let u=a.startsWith("get "),P=u?e.name.replace("bound get","").trim():p[0],y=0,E={},A=document.createElement(i);for(let g of d)E[n]=g,E[n]._observableUniqueName=n+"__it"+(this._renderIteration+1),o&&(E[o]=y),l&&(E[l]=!1),this._renderFull(A,t,E),y++;(r||d.length>0)&&this._root.appendChild(A),h.logInitialRendering(this,this._renderIteration,this._properties);let w=y>0?A.childNodes.length/y:this._parseHTML(t,E)[0].length;for(let g of p)this._lists.has(g)||this._lists.set(g,[]),this._lists.get(g).push(new R(A,f,r,P,u,e,[...d],n,o,l,t,w))}_calculateBindVariables(){let e={};this._forEachNonDerivedProperty((t,i)=>e[t]=i[t]),this._allBindVariables=e}_forEachNonDerivedProperty(e){for(let i of Object.getOwnPropertyNames(this).filter(r=>!this._parentProperties.includes(r))){let r=Object.getOwnPropertyDescriptor(this,i);(!r.get||r.configurable)&&e(i,this)}let t=Object.getPrototypeOf(this);for(let i of Object.getOwnPropertyNames(t).filter(r=>r!="constructor"))Object.getOwnPropertyDescriptor(t,i).get||e(i,t)}_forEachProperty(e,t){for(let r of Object.getOwnPropertyNames(this).filter(s=>!this._parentProperties.includes(s))){let s=Object.getOwnPropertyDescriptor(this,r);(!s.get||s.configurable)&&e(r,this)}let i=Object.getPrototypeOf(this);for(let r of Object.getOwnPropertyNames(i).filter(s=>s!="constructor"))(!t||!Object.getOwnPropertyDescriptor(i,r).get)&&e(r,this)}_convertToTemplateExpression(e){let t=e.toString(),i=t.indexOf("`");return i>0&&(t=t.substring(i+1,t.length-1)),t.trim()}_parseHTML(e,t){let i=this._convertToTemplateExpression(e);this._allBindVariables==null&&this._calculateBindVariables();let r=this._allBindVariables,[s,n]=this._calculateTemplateAndBindVariableNames(i,r,t);return this._calculateBindings(s,n),[new DOMParser().parseFromString(s,"text/html").body.childNodes,r,n]}_makeBindVariableObservable(e){for(let t of this._allBindExpressions[e])this._makeBindVariableStructureObservable(e,t)}_makeBindVariableStructureObservable(e,t){let i=this._allBindVariables[e],r=t.split("."),s=i,n=e;for(let o=0;o<r.length;o++){let l=r[o];if(n+=`.${r[o]}`,typeof s=="undefined")return;if(typeof s=="object"){if(!Array.isArray(s)&&n.includes(".")&&s[l].bind&&(s[l]=s[l].bind(s)),s[l].bind)continue;Array.isArray(s)?this._makeArrayObservable(s,l,e,n):this._makeObjectObservable(s,l,e,n)}s=s[r[o]]}}_callBindVariableBeforeChangedHook(e,t,i,r){if(typeof r=="string"&&r.startsWith("$"))return!0;let s=`${t}BeforeChanged`;if(e[s]){let n=e[s](i,r);return!(typeof n!="undefined"&&n==!1)}return!0}_callBindVariableAfterChangedHook(e,t,i,r){if(typeof r=="string"&&r.startsWith("$"))return;let s=`${t}AfterChanged`;e[s]&&e[s](i,r)}_callBindVariableBeforePropertyChangedHook(e,t,i,r,s){if(typeof s=="string"&&s.startsWith("$"))return!0;let n=`${t}BeforePropertyChanged`;if(e[n]){let o=e[n](i,r,s);return!(typeof o!="undefined"&&o==!1)}return!0}_callBindVariableAfterPropertyChangedHook(e,t,i,r,s){if(typeof s=="string"&&s.startsWith("$"))return;let n=`${t}AfterPropertyChanged`;e[n]&&e[n](i,r,s)}_makeObjectObservable(e,t,i,r){let s=e[t],n=this;this._registerNewObserver(e,t,this,i,r),!Object.getOwnPropertyDescriptor(e,t).set&&!Object.getOwnPropertyDescriptor(e,t).get&&Object.defineProperty(e,t,{get:function(){return s}.bind(this),set:function(o){let l=o,a=e[t];n._applyValueAndNotifyObservers(e,t,i,l,a,!1,()=>s=o)}.bind(this),enumerable:!0,configurable:!0})}_makeArrayObservable(e,t,i,r){let s=this;this._registerNewObserver(e,t,this,i,r)||(e._emit=function(n,o,l,a){o.length==0?this.lastActionMethod="DELETE":n==null?this.lastActionMethod="ADD":o.length==1&&(this.lastActionMethod="EDIT"),this.lastActionIndex=n??this.length;let d=o[o.length-1],f=l[l.length-1];return this.lastActionObject=d??f,s._applyValueAndNotifyObservers(this,t,i,d,f,!0,a),this.lastActionMethod=null,this.lastActionIndex=null,this.lastActionObject=null,this.lastActionPropertyPath=null,this},e.push=function(...n){return e._emit(null,n,[],()=>Array.prototype.push.call(this,...n)),e.length},e.splice=function(n,o,...l){let a=this.slice(n,n+o);return o<=1&&e._emit(n,l,a,()=>Array.prototype.splice.call(this,n,o,...l)),a},e.edit=function(n,o){return this.splice(n,1,o)},e.delete=function(n){return this.splice(n,1)})}_applyValueAndNotifyObservers(e,t,i,r,s,n,o){!this._callBindVariableBeforeChangedHook(e,t,r,s)||!this._callBindVariableBeforePropertyChangedHook(self,i,t,r,s)||(o(),e._observers.get(t).forEach((l,a)=>{l.forEach((d,f)=>{d.forEach(p=>{n&&(p=p.replace(".length",""));let u=a[f];u&&(n||(u.lastActionMethod="SET"),u.lastActionPropertyPath=p,a[f]=u)})})}),this._callBindVariableAfterPropertyChangedHook(self,i,t,r,s),this._callBindVariableAfterChangedHook(e,t,r,s))}_registerNewObserver(e,t,i,r,s){let n=!0;e._observers||(e._observers=new Map),e._observers.has(t)||(e._observers.set(t,new Map),n=!1),e._observers.get(t).has(i)||e._observers.get(t).set(i,new Map),e._observers.get(t).get(i).has(r)||e._observers.get(t).get(i).set(r,[]);let o=e._observers.get(t).get(i).get(r);return o.includes(s)||o.push(s),n}_calculateBindings(e,t){for(let i of t){let r=new RegExp(`(${i})((\\.[\\w]+)+)`,"g");this._allBindExpressions[i]||(this._allBindExpressions[i]=[]);for(let[,,s]of e.matchAll(r)){let n=s.substring(1);this._allBindExpressions[i].includes(n)||this._allBindExpressions[i].push(n)}this._makeBindVariableObservable(i)}}_renderFull(e,t,i){let[r,s,n]=this._parseHTML(t,i),o=e.childNodes.length;for(;r.length>0;)e.appendChild(r[0]);for(let l=o;l<e.childNodes.length;l++)this._processElementBinding(e.childNodes[l],s,n)}_removeObserversForBindVariable(e){if(this._observersForBindVariable.has(e))for(let[t]of this._observersForBindVariable.get(e)){for(let[i,r]of this._observerExpressions.get(t))r.bindVariableNames.includes(e)&&this._observerExpressions.get(t).delete(i);this._observerExpressions.get(t).size==0&&this._observerExpressions.delete(t)}this._observersForBindVariable.delete(e),delete this._allBindVariables[e],delete this._allBindExpressions[e]}_calculateArrayChange(e,t){e.length>t.length?e.lastActionMethod="ADD":e.length<t.length?e.lastActionMethod="DELETE":e.lastActionMethod="EDIT";let i=e.lastActionMethod=="DELETE"?t:e;for(let r=0;r<i.length;r++)if(e[r]!=t[r])return e.lastActionIndex=r,e.lastActionObject=i[r],e;return e.lastActionMethod="NONE",e}_renderUpdate(e,t,i){if(Array.isArray(i)&&this._lists.size>0){let r=0;if(this._lists.has(e))for(let s of this._lists.get(e))r=this._renderListUpdate(s,t,r)}}_renderListUpdate(e,t,i){if(e.listDerived){let r=t.lastActionIndex;t=e.listFunction(),typeof r!="undefined"&&(t=this._calculateArrayChange(t,e.listCurrentData))}if(t.lastActionMethod=="NONE")return i;if(typeof t.lastActionIndex!="undefined")this._renderListElementUpdate(e,t),h.logRenderUpdate(this,e.listProperty,t,e.listDerived?"Partial (search) rerender":"Partial (index) rerender");else{t.lastActionMethod="DELETE";for(let r=0;r<e.listCurrentData.length;r++)t.lastActionIndex=0,t.lastActionObject=e.listCurrentData[r],this._renderListElementUpdate(e,t);t.lastActionMethod="ADD";for(let r=0;r<t.length;r++)t.lastActionIndex=r,this._renderListElementUpdate(e,t);t.lastActionMethod=void 0,t.lastActionIndex=void 0,t.lastActionObject=void 0,h.logRenderUpdate(this,e.listProperty,t,"Full rerender")}return e.listCurrentData=[...t],this._renderListParentUpdate(e,i)}_renderListParentUpdate(e,t){let i=this._root.childNodes.length;if(!e.listParentElementRenderOnEmptyList)if(e.listParentElementIndex+=t,e.listParentElement.childNodes.length==0)this._root.removeChild(e.listParentElement);else{let r=!1;this._root.childNodes.forEach(s=>{s==e.listParentElement&&(r=!0)}),r||(this._root.childNodes[e.listParentElementIndex]?this._root.insertBefore(e.listParentElement,this._root.childNodes[e.listParentElementIndex]):this._root.appendChild(e.listParentElement))}return this._root.childNodes.length-i+t}_renderListElementUpdate(e,t){let i=t.lastActionIndex*e.listElementTemplateSize;if(t.lastActionMethod=="DELETE"){this._removeObserversForBindVariable(t.lastActionObject._observableUniqueName);for(let r=0;r<e.listElementTemplateSize;r++)e.listParentElement.childNodes[i].remove()}else{let r={};r[e.listItemVariable]=t[t.lastActionIndex],r[e.listItemVariable]._observableUniqueName=e.listItemVariable+"__it"+(this._renderIteration+1),e.listIndexVariable&&(r[e.listIndexVariable]=t.lastActionIndex),e.listItemUpdatedVariable&&(r[e.listItemUpdatedVariable]=!0);let[s,n,o]=this._parseHTML(e.listElementTemplateFunction,r);for(let l=0;l<e.listElementTemplateSize;l++)t.lastActionMethod=="ADD"?(e.listParentElement.childNodes[t.lastActionIndex]?e.listParentElement.insertBefore(s[0],e.listParentElement.childNodes[i+l]):e.listParentElement.appendChild(s[0]),this._processElementBinding(e.listParentElement.childNodes[i+l],n,o)):t.lastActionMethod=="EDIT"&&(e.listParentElement.replaceChild(s[0],e.listParentElement.childNodes[i+l]),this._processElementBinding(e.listParentElement.childNodes[i+l],n,o))}}_makeDerivedVariablesObservable(e,t,i,r,s){let n="/* references: ";for(let[,o]of i.matchAll(this.REFERENCED_BIND_VARIABLE_NAMES_REGEX))n+=`${e}.${o.replace("this.","")}; `;return n+="*/",r.replaceAll(new RegExp(`([^\\w])${e}\\.${t}([^\\w])`,"g"),`$1(${e}${s?"()":""}.${t} ${n} )$2`)}_calculateUniqueElementAndVariableName(e,t){return e+"__it"+t}_calculateTemplateAndBindVariableNames(e,t,i){this._renderIteration++;let r=Object.keys(t);if(i)for(let[o,l]of Object.entries(i)){let a=o+"__it"+this._renderIteration;t[a]=l,r.push(a);let d=e;do e=d,d=e.replace(new RegExp(`([{][^{}]*[^\\w]|[{])${o}([^\\w])`),`$1${a}$2`);while(d.length!=e.length)}let s=new RegExp("this((\\.\\w+)*)\\.(\\w+)[^\\w(]","g"),n=null;for(let[,o,,l]of e.matchAll(s)){let a=t;if(o){let d=o.split(".");for(n of d)n!=""&&(a=a[n]||this._derivedProperties[n].call(this))}this._derivedProperties[n]?e=this._makeDerivedVariablesObservable(`this${o}`,l,this._derivedProperties[n].toString(),e,!1):o&&Object.getOwnPropertyDescriptor(a,l).get&&!Object.getOwnPropertyDescriptor(a,l).set&&(e=this._makeDerivedVariablesObservable(`this${o}`,l,Object.getOwnPropertyDescriptor(a,l).get.toString(),e,!1))}return e=this._escapeTagsInExpressions(e),[e,r]}_escapeTagsInExpressions(e){let t=['"',"'","`"];for(let i of t){let r=e.match(new RegExp(`${i}[^${i}]+${i}`,"g"));if(r)for(let s of r)s.includes("<")&&(e=e.replace(s,s.replaceAll("<","&lt;")))}return e}_processElementBinding(e,t,i){if("attributes"in e&&Array.from(e.attributes).forEach(r=>{r.nodeValue.includes("${")&&this._processBindingExpression(e,t,i,r.nodeName,r.nodeValue)}),"data"in e&&e.data.includes("${")&&this._processTextNodeBinding(e,t,i,e.data),"childNodes"in e)for(let r of Array.from(e.childNodes))this._processElementBinding(r,t,i);e instanceof b&&e.render()}_processTextNodeBinding(e,t,i,r){if(e.parentNode){var s=document.createElement("span");e.parentNode.insertBefore(s,e),e.parentNode.removeChild(e),this._processBindingExpression(s,t,i,"innerHTML",r)}else this._processBindingExpression(e,t,i,"data",e.data)}_processBindingExpression(e,t,i,r,s){let n=this._buildCallableExpression(r,s,i);this._observerExpressions.has(e)||this._observerExpressions.set(e,new Map),this._observerExpressions.get(e).set(r,n);for(let a of n.bindVariableNames)t[a].bind&&(t[a]=t[a].bind(this));let o=this._getBindVariableValues(n.bindVariableNames),l=n.execute(...o);l.bind&&(l=l.bind(this)),e[r]=l,l!=null&&!l.bind&&this._registerElementAttributeAsObserverForBindVariables(e,r,t,n.bindVariableNames)}_buildCallableExpression(e,t,i){e=="data"||t.lastIndexOf("${")>0||t.lastIndexOf("}")<t.length-1?t="`"+t+"`":t=t.replaceAll("${","").replaceAll("}","");let r=[];for(let s of i)t.includes(s)&&r.push(s);return new O(new Function(...r,"return "+t).bind(this),r,t)}_registerElementAttributeAsObserverForBindVariables(e,t,i,r){for(let s of r){this._observersForBindVariable.has(s)||this._observersForBindVariable.set(s,new Map);let n=this._observersForBindVariable.get(s);n.has(e)||n.set(e,[]),i[s].bind&&(i[s]=i[s].bind(this)),n.get(e).push(t)}}_getBindVariableValues(e){let t=[];for(let i of e)t.push(this._allBindVariables[i]);return t}_updatePropertyObservers(e){let[t,i]=e;if(this._observersForBindVariable.has(t))for(let[r,s]of this._observersForBindVariable.get(t).entries()){if(typeof this._observerExpressions.get(r)=="undefined"){this._observersForBindVariable.get(t).delete(r);continue}for(let n of s){let o=this._observerExpressions.get(r).get(n);if(!i.lastActionPropertyPath||o.template.includes(i.lastActionPropertyPath)){let l=this._getBindVariableValues(o.bindVariableNames),a=o.execute(...l);(typeof a.lastActionIndex!="undefined"||!i.lastActionPropertyPath||o.template&&o.template.includes(i.lastActionPropertyPath))&&r[n]!=a&&(r[n]=a,r instanceof b||h.logRenderUpdate(r,n,a,"Full rerender"))}}}}};var h=class{static setDebugging(e){h.logPropertyUpdates=e,h.logInitialRenderings=e,h.logRenderUpdates=e}static logPropertyUpdate(e,t,i){h.logPropertyUpdates&&!i.lastActionPropertyPath&&h.logElementActivity(e,t,i,"Update")}static logInitialRendering(e,t,i){if(h.logInitialRenderings&&t==0)for(let r of Object.keys(i))h.logElementActivity(e,r,i[r],"Initial render")}static logRenderUpdate(e,t,i,r){h.logRenderUpdates&&h.logElementActivity(e,t,i,r)}static logElementActivity(e,t,i,r){var s,n;i.bind||i.lastActionMethod!="NONE"&&console.log(`[${h._calculateElementDisplayName(e)}]: ${r} of property ${t}: ${(s=i.lastActionMethod)!==null&&s!==void 0?s:"SET"} ${JSON.stringify((n=i.lastActionObject)!==null&&n!==void 0?n:i)}`)}static _calculateElementDisplayName(e){var t;let i=(t=e.nodeName)!==null&&t!==void 0?t:"TEXT";if(e instanceof b)return i;for(let r=e;r;r=r.parentNode)r.toString()==="[object ShadowRoot]"&&r.host instanceof b&&(i=r.host.nodeName+">"+i);return i}};h.setDebugging(!1);var c=class{static _setup(){c.initialized=!0,window.onload=()=>{c.processRoute(document.location.href,!0,!1),document.body.addEventListener("click",function(e){let t=e.path[0];t.nodeName=="A"&&(e.preventDefault(),c.processRoute(t.attributes[0].nodeValue))})},window.onpopstate=e=>{c.processRoute(e.state.url,!1,!1)}}static _buildRoute(e,t,i){var s;return{url:i.url,urlRegex:r(i.url),component:i.component,params:i.params,redirect:i.redirect,aliases:i.aliases,aliasesRegexes:(s=i.aliases)==null?void 0:s.map(n=>r(n)),renderElementParent:e,renderElementId:t};function r(n){return n=="*"?new RegExp("^.*$"):new RegExp("^"+n.replace(/:([a-zA-Z0-9]+)/,"(?<$1>[\\w-]+)")+"(\\?(?<$routeQuery>.*))?$")}}static configRoutes(e,t,i){c.initialized||c._setup();for(let[r,s]of Object.entries(i)){let n=c._buildRoute(e,t,s);s.url=="*"?c.defaultRoute=n:c.routes[r]=n}}static _findCurrentView(e){for(let t of Array.from(e.children))if(t.style&&t.style.display!="none")return t;return null}static _findNextView(e,t){for(let i of Array.from(e.children))if(i instanceof b&&i.getAttribute("router-url")==t.url)return i;return null}static _updateView(e,t,i){for(let s in t.params)e[s]=t.params[s];let r={url:t.url,params:{},query:""};for(let s in i)if(s=="$routeQuery"){if(typeof i[s]!="undefined"){for(let n of i[s].split("&")){let o=n.split("=");o.length==2&&(r.params[o[0]]=o[1])}r.query=i[s]}}else e[s]=i[s];c.current=r,e.setAttribute("router-url",t.url)}static _loadView(e,t,i){let r=new t.component;return r.style.display="none",c._updateView(r,t,i),e.appendChild(r),r.render(),r}static _callBeforeRoutingHook(e,t,i){if(e!=null&&e.beforeRouting){let r=e.beforeRouting(t,i);if(typeof r!="undefined"&&r==!1)return!1}return!0}static _callAfterRoutingHook(e,t,i){e!=null&&e.afterRouting&&e.afterRouting(t,i)}static _resolveRouterUrl(e){let t=e.indexOf("("),i=e.indexOf(")"),r=t==-1?e.substring(7):e.substring(7,t),s=t==-1?"":e.substring(t+1,i);if(r=="back")return c.back(),null;if(r=="forward")return c.forward(),null;if(r=="go")return c.go(parseInt(s)),null;if(r=="push")return c.push(s),null;if(r=="replace")return c.replace(s),null;let n=c.routes[r].url,o="?";if(s)for(let l of s.split(",")){let[a,d]=l.trim().split("=");n.includes(`:${a}`)?n=n.replace(`:${a}`,d):o+=`${a}=${d}&`}return o=o.substring(0,o.length-1),n+=o,n}static _matchRoute(e,t,i,r){var n,o,l;if(e.startsWith("router:")&&(e=c._resolveRouterUrl(e),e==null))return!0;let s=(o=t.urlRegex.exec(e))!=null?o:(n=t.aliasesRegexes)==null?void 0:n.map(a=>a.exec(e)).find(a=>a!=null);if(s!=null){if(t.redirect)return!0;let a=t.renderElementParent.getElementById(t.renderElementId),d=c._findCurrentView(a),f=d==null?void 0:d.getAttribute("router-url"),p=s.groups,u=(l=c._findNextView(a,t))!=null?l:c._loadView(a,t,p);return c._callBeforeRoutingHook(d,e,f),c._callBeforeRoutingHook(u,e,f),d&&(d.style.display="none"),u.style.display="",c._updateView(u,t,p),i&&(r?history.pushState({url:e},"",e):history.replaceState({url:e},"",e)),c._callAfterRoutingHook(d,e,f),c._callAfterRoutingHook(u,e,f),!0}return!1}static processRoute(e,t=!0,i=!0){for(let r of Object.values(c.routes))if(c._matchRoute(e,r,t,i)){r.redirect&&c.processRoute(r.redirect,t,i);return}if(c.defaultRoute&&c._matchRoute(e,c.defaultRoute,t,i)){c.defaultRoute.redirect&&c.processRoute(c.defaultRoute.redirect,t,i);return}throw Error(`No matching route definition to resolve url ${e}!`)}static back(){history.back()}static forward(){history.forward()}static go(e){history.go(e)}static push(e){c.processRoute(e,!0,!0)}static replace(e){c.processRoute(e,!0,!1)}},m=c;m.initialized=!1,m.routes={},m.defaultRoute=null,m.current=null;window.HofRouter=m;})();
